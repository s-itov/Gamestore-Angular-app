<div class="page-heading header-text">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h3>Edit game offer</h3>
            </div>
        </div>
    </div>
</div>

<h2 *ngIf="errorServer">{{errorMsg}}</h2>


<section class="create-form">
    <h2>Edit game offer</h2>
    <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="imageUrl">Image URL:</label>
            <input type="text" id="imageUrl" formControlName="imageUrl" placeholder="https://imageUrl"  (focus)="editForm.get('imageUrl')?.markAsTouched()"/>
            <div *ngIf="(editForm.get('imageUrl')?.touched || isSubmitted)" >
                <p class="red" *ngIf="editForm.get('imageUrl')?.errors?.['required']">Image URL is required</p>
                <p class="red" *ngIf="editForm.get('imageUrl')?.errors?.['invalidAvatarUrl']">Image URL must start with https://</p>
            </div>
        </div>


        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" id="title" formControlName="title" placeholder="Game title" />
            <div *ngIf="(editForm.get('title')?.touched || isSubmitted)" >
                <p class="red" *ngIf="editForm.get('title')?.errors?.['required']">Title is required</p>
            </div>
        </div>

        <div class="form-group">
            <label for="category">Category:</label>
            <input type="text" id="category" formControlName="category" placeholder="Category" />
            <div *ngIf="(editForm.get('category')?.touched || isSubmitted)" >
                <p class="red" *ngIf="editForm.get('category')?.errors?.['required']">Category is required</p>
            </div>
        </div>

        <div class="form-group">
            <label for="price">Price:</label>
            <input type="number" id="price" formControlName="price" (focus)="editForm.get('price')?.markAsTouched()"/>
            <div *ngIf="(editForm.get('price')?.touched || isSubmitted)" >
                <p class="red" *ngIf="editForm.get('price')?.errors?.['required']">Price is required</p>
                <p class="red" *ngIf="editForm.get('price')?.errors?.['minlength']">Price must be at least 1 character long</p>
            </div>
        </div>

        <div class="form-group">
            <label for="text">Description:</label>
            <textarea id="text" formControlName="description" rows="30" (focus)="editForm.get('description')?.markAsTouched()">
            </textarea>
            <div *ngIf="(editForm.get('description')?.touched || isSubmitted)" >
                <p class="red" *ngIf="editForm.get('description')?.errors?.['required']">Description is required</p>
                <p class="red" *ngIf="editForm.get('description')?.errors?.['minlength']">Description must be at least 20 characters long</p>
            </div>
        </div>

        <button [disabled]="this.editForm.invalid" type="submit">Submit</button>
    </form>
</section>